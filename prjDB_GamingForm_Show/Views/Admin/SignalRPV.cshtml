@model IEnumerable<prjDB_GamingForm_Show.ViewModels.CSignalRUseAdminList>

<p>
    <h2>管理者列表</h2>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                管理者編號
            </th>
            <th>
                管理者名稱
            </th>
            <th>
                狀態
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.AdminId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AdminName)
                </td>
                <td id="@($"onlineStatus_{item.AdminName}")"> 
                    <!-- 在線狀態將在此處更新 -->
                </td>
            </tr>
        }
    </tbody>
</table>
@section Scripts{
    <script>
        connection.on("UpdAdminOnlineStatus", function (adminName, isOnline) {
            // 根據管理者名稱和在線狀態更新前端顯示
            var statusId = `#onlineStatus_${adminName}`;
            $(statusId).text(isOnline ? "在線" : "離線");
        });
    </script>
}
