@model IEnumerable<prjDB_GamingForm_Show.ViewModels.CAdminCouponViewModel>
@* @model prjDB_GamingForm_Show.ViewModels.CAdminCouponViewModel *@
@{
    ViewData["Title"] = "CouponList";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<style>
    .offline {
        background-color: #4F4F4F;
        color: #ADADAD;
        padding: 3px;
        border-radius: 5px
    }

    .online {
        background-color: #009100;
        color: #F0FFF0;
        padding: 3px;
        border-radius: 5px
    }
</style>

<h2 style="margin-left:5px ; font-size:45px">優惠券清單</h2>
@using (Html.BeginForm())
{
    <p style="display:inline;font-size:30px;margin-left:5px;margin-right:10px">名稱關鍵字查詢 : </p> @Html.TextBox("txtKeyWord", null, new { @class = "col-form-label" })
    <input type="submit" value="查詢" class="btn btn-dark" />
}

<p>
    @Html.ActionLink("新增優惠券", "CouponCreat", "Admin", null, null)
</p>
<table class="table table-dark table-hover" style="color:white ; font-size:20px">
    <thead>
        <tr>
            <th>
                優惠券名稱
            </th>
            <th>
                內容
            </th>
            <th>
                折扣/折價
            </th>
            <th>
                起始日期
            </th>
            <th>
                結束日期
            </th>
            <th>
                狀態
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            string type = "";
            string money = "";
            if(item.Type == "23")
            {
                type = "<span class='online'>已啟用</span>";
            }
            else if(item.Type == "24")
            {
                type = "<span class='offline'>未啟用</span>";
            }
            else
            {
                type = "錯誤的狀態";
            }
            if(item.Discount == null)
            {
                money = $"折{item.Reduce}元";
            }
            else
            {
                money = $"{item.Discount*10}折";
            }
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Title)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Content)
                </td>
                <td>
                    @money
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StartDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EndDate)
                </td>
                <td>
                    @Html.Raw(type)
                </td>
                <td>
                    @Html.ActionLink("開啟/關閉", "ProductListNext", "Admin", null, new { @class = "btn btn-dark" })
                </td>
            </tr>
        }
    </tbody>
</table>
